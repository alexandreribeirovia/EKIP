@import 'ag-grid-community/styles/ag-grid.css';
@import 'ag-grid-community/styles/ag-theme-alpine.css';
@import 'tippy.js/dist/tippy.css';

/* Dark mode for AG-Grid */
.dark .ag-theme-alpine {
  --ag-background-color: #1f2937;
  --ag-foreground-color: #f9fafb;
  --ag-header-background-color: #374151;
  --ag-odd-row-background-color: #111827;
  --ag-row-hover-color: #374151;
  --ag-selected-row-background-color: #3b82f6;
  --ag-border-color: #4b5563;
  --ag-cell-horizontal-border: solid #4b5563;
  --ag-row-border-color: #4b5563;
  --ag-header-foreground-color: #f9fafb;
  --ag-font-family: 'Inter', system-ui, sans-serif;
  --ag-header-column-resize-handle-color: transparent;
}

/* Custom AG-Grid styles */
.ag-theme-alpine {
  --ag-font-family: 'Inter', system-ui, sans-serif;
  --ag-font-size: 14px;
  --ag-row-height: 60px;
  --ag-header-height: 50px;
  --ag-border-radius: 8px;
  --ag-cell-horizontal-padding: 12px;
  --ag-cell-vertical-padding: 8px;
  --ag-border-color: transparent;
  --ag-header-column-resize-handle-color: transparent;
}

.ag-theme-alpine .ag-header-cell {
  font-weight: 600;
  color: #374151;
}

.dark .ag-theme-alpine .ag-header-cell {
  color: #f9fafb;
}

.ag-theme-alpine .ag-row {
  border-bottom: 1px solid #e5e7eb;
}

.dark .ag-theme-alpine .ag-row {
  border-bottom: 1px solid #4b5563;
}

.ag-theme-alpine .ag-row:hover {
  background-color: #f3f4f6;
}

.dark .ag-theme-alpine .ag-row:hover {
  background-color: #374151;
}

.ag-theme-alpine .ag-paging-panel {
  color: #707172;
  background-color: #ffffff;
  border-top: 1px solid #e5e7eb;
  display: flex; 
  justify-content: center; 
}

.dark .ag-theme-alpine .ag-paging-panel {
  color: #d1d5db;
  background-color: #1f2937;
  border-top: 1px solid #374151;
  display: flex; 
  justify-content: center; 
}

.stable-render {
  contain: layout style paint;
}

.employee-modal-content .text-xs {
  font-size: 12px;    
  line-height: 0.8rem; 
}

.employee-modal-content .text-sm {
  font-size: 13px;
  line-height: 1rem; 
}

/* ====================================================================== */
/* ==  ESTILOS CUSTOMIZADOS PARA O FULLCALENDAR (VERSÃO FINAL)         == */
/* ====================================================================== */

/* 1. APARÊNCIA GERAL */
.fc {
  font-size: 0.875rem;
  border: none !important;
}
.fc .fc-view-harness {
  border: none !important;
}

/* Z-index baixo para todo o calendário garantir que fique abaixo do header do Layout */
#calendar-container {
  position: relative;
  z-index: 1;
}

/* Controle de z-index para evitar sobreposição do grid sobre o cabeçalho e scrollbar */
.fc .fc-scrollgrid-section-header,
.fc .fc-scrollgrid-section-header * {
  z-index: 3 !important; /* Header fixo por cima do conteúdo */
}

.fc .fc-scrollgrid-section-body,
.fc .fc-scrollgrid-section-body *,
.fc .fc-scrollgrid-section-liquid {
  z-index: 1 !important; /* Conteúdo do grid por baixo */
}

.fc .fc-scrollgrid-section-footer,
.fc .fc-scrollgrid-section-footer * {
  z-index: 2 !important; /* Footer (scrollbar horizontal) acima do conteúdo mas abaixo do header */
}

.fc-event,
.fc-event * {
  z-index: 1 !important; /* Eventos no mesmo nível do conteúdo */
}

/* 2. BARRA DE FERRAMENTAS (BOTÕES E TÍTULO) */
.fc .fc-toolbar-title {
  font-size: 1.125rem;
  font-weight: 600;
}
.fc .fc-button {
  background-color: #f3f4f6 !important;
  border: 1px solid #d1d5db !important;
  color: #374151 !important;
  font-weight: 500 !important;
}
.fc .fc-button-primary:hover {
  background-color: #e5e7eb !important;
}
.fc .fc-button-primary:active, .fc .fc-button-primary:focus {
  box-shadow: 0 0 0 2px rgba(96, 165, 250, 0.5) !important;
}
.fc .fc-button-primary.fc-button-active {
  background-color: #3b82f6 !important;
  color: white !important;
  border-color: #2563eb !important;
}

/* 3. ÁREA DE RECURSOS E CABEÇALHO */
.fc .fc-resource-area-main {
  font-weight: 500;
}
.fc .fc-col-header-cell-cushion {
    padding: 0.75rem 0.5rem !important;
}


/* 4. LINHAS DE GRADE */
.fc-theme-standard td, .fc-theme-standard th {
  border-color: #d1d5db; /* cinza claro para grade (modo claro) */
}
.dark .fc-theme-standard td, 
.dark .fc-theme-standard th {
  border-color: #4b5563; /* cinza escuro para grade (modo escuro) */
}

/* 5. ESTILOS DOS EVENTOS */
.fc-event {
  padding: 0.25rem 0.5rem !important;
  cursor: pointer;
  border-radius: 0.375rem !important;
  border: none;
  overflow: visible !important;
}

.fc-event-title.fc-sticky {
    position: sticky;
    left: 0;
    /* opcional: top: 0; bottom: 0; 
       background: <cor do fundo>; 
       z-index: 2; (se precisar sobrepor bordas/linhas) */
}

/* 6. INDICADOR DE "AGORA" - VERSÃO CORRIGIDA */
.fc .fc-timeline-now-indicator-line {
  border-color: #ef4444 !important;
  border-width: 0 0 0 2px !important;
  border-style: solid !important;
  z-index: 5 !important; /* Z-index 5 para ficar acima dos eventos mas abaixo do header do Layout (z-50) */
}

/* Garante que o indicador apareça no cabeçalho */
.fc .fc-timeline-now-indicator-arrow {
  border-bottom-color: #ef4444 !important;
  border-top-color: #ef4444 !important;
}

/* Força exibição do nowIndicator */
.fc-timeline-now-indicator-line,
.fc-timeline-now-indicator-arrow {
  display: block !important;
  visibility: visible !important;
}

/* 7. ESTILOS DE FUNDO (DIAS NÃO-ÚTEIS) */
.fc .fc-non-business {
  background-color: #f9fafb !important;
}
.dark .fc .fc-non-business {
  background-color: #374151 !important;
}

/* Garante que o scroller tenha overflow correto */
.fc .fc-scroller {
  overflow-y: auto !important;
  overflow-x: auto !important;
  position: relative !important;
  z-index: 1 !important;
}

.fc .fc-timeline-body {
  position: relative !important;
  z-index: 1 !important;
}

.fc .fc-timeline-header {
  position: relative !important;
  z-index: 3 !important;
}

/* SCROLLBAR HORIZONTAL FIXO - Criado via JavaScript */
#fixed-horizontal-scrollbar,
.fixed-horizontal-scrollbar {
  position: fixed !important;
  bottom: 0 !important;
  /* left e width são definidos dinamicamente via JavaScript */
  height: 20px !important;
  background: #ffffff !important;
  border-top: 2px solid #e5e7eb !important;
  border-left: 1px solid #e5e7eb !important;
  border-right: 1px solid #e5e7eb !important;
  z-index: 9999 !important;
  overflow-x: auto !important;
  overflow-y: hidden !important;
  box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.15) !important;
  display: block !important;
  pointer-events: auto !important;
  visibility: visible !important;
  opacity: 1 !important;
}

.dark #fixed-horizontal-scrollbar,
.dark .fixed-horizontal-scrollbar {
  background: #1f2937 !important;
  border-top-color: #4b5563 !important;
  border-left-color: #4b5563 !important;
  border-right-color: #4b5563 !important;
  box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.4) !important;
}

/* Estiliza o scrollbar fixo */
#fixed-horizontal-scrollbar::-webkit-scrollbar,
.fixed-horizontal-scrollbar::-webkit-scrollbar {
  height: 18px !important;
}

#fixed-horizontal-scrollbar::-webkit-scrollbar-track,
.fixed-horizontal-scrollbar::-webkit-scrollbar-track {
  background: #f9fafb !important;
  border-radius: 0 !important;
}

.dark #fixed-horizontal-scrollbar::-webkit-scrollbar-track,
.dark .fixed-horizontal-scrollbar::-webkit-scrollbar-track {
  background: #111827 !important;
}

#fixed-horizontal-scrollbar::-webkit-scrollbar-thumb,
.fixed-horizontal-scrollbar::-webkit-scrollbar-thumb {
  background: #9ca3af !important;
  border: 4px solid #f9fafb !important;
  border-radius: 10px !important;
}

#fixed-horizontal-scrollbar::-webkit-scrollbar-thumb:hover,
.fixed-horizontal-scrollbar::-webkit-scrollbar-thumb:hover {
  background: #6b7280 !important;
}

.dark #fixed-horizontal-scrollbar::-webkit-scrollbar-thumb,
.dark .fixed-horizontal-scrollbar::-webkit-scrollbar-thumb {
  background: #6b7280 !important;
  border-color: #111827 !important;
}

.dark #fixed-horizontal-scrollbar::-webkit-scrollbar-thumb:hover,
.dark .fixed-horizontal-scrollbar::-webkit-scrollbar-thumb:hover {
  background: #9ca3af !important;
}

/* Garante que o scrollbar fixo funcione em modo fullscreen */
#fixed-horizontal-scrollbar,
.fixed-horizontal-scrollbar {
  position: fixed !important;
  bottom: 0 !important;
  z-index: 2147483647 !important;
  transform: translateZ(0) !important;
}

/* Ajusta o z-index do card em fullscreen para não sobrepor o scrollbar */
.fullscreen-card:fullscreen,
.fullscreen-card:-webkit-full-screen,
.fullscreen-card:-moz-full-screen {
  z-index: auto !important;
  isolation: isolate !important; /* Cria um contexto de stacking isolado */
}

/* Garante que o calendário dentro do fullscreen não sobreponha */
.fullscreen-card:fullscreen .fc,
.fullscreen-card:-webkit-full-screen .fc,
.fullscreen-card:-moz-full-screen .fc {
  z-index: 1 !important;
  position: relative !important;
}



/* Fundo branco exclusivo para a visão semanal */
.fc-resourceTimelineWeek-view .fc-timeline-body {
  background-color: #fff !important;
}

/* Na visão semanal, ignorar sombreamento de fim de semana */
.fc-resourceTimelineWeek-view .fc-non-business {
  background-color: transparent !important;
}

/* Modo escuro para FullCalendar */
.dark .fc {
  color: #f9fafb;
}

.dark .fc .fc-toolbar-title {
  color: #f9fafb;
}

.dark .fc .fc-button {
  background-color: #374151 !important;
  border-color: #4b5563 !important;
  color: #f9fafb !important;
}

.dark .fc .fc-button:hover {
  background-color: #4b5563 !important;
}

.dark .fc .fc-button-primary.fc-button-active {
  background-color: #3b82f6 !important;
  border-color: #2563eb !important;
}

.dark .fc-resourceTimelineWeek-view .fc-timeline-body {
  background-color: #1f2937 !important;
}

/* Estilos adicionais para nowIndicator mais visível */
.fc .fc-timeline-now-indicator-line {
  background: linear-gradient(to right, #ef4444, transparent) !important;
  width: 2px !important;
}

.fc-license-message {
  display: none !important;
}

.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky > * {
  position: sticky !important;
  top: -25px !important; 
  background-color: #f3f4f6 !important;
  z-index: 3 !important; /* Z-index 3 para ficar por cima do conteúdo do grid */
}

.dark .fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky > * {
  position: sticky !important;
  top: 0 !important; 
  background-color: #1f2937 !important;
  z-index: 3 !important; /* Z-index 3 para ficar por cima do conteúdo do grid */
}
.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky > * {
    position: sticky !important;
    bottom: 0 !important;
    z-index: 2 !important; /* Z-index 2 para ficar por cima do conteúdo mas abaixo do header */
}

.fc .fc-timeline-header-row:last-child .fc-timeline-slot-frame {
    overflow: hidden;
    font-size: 12px;
    font-weight: normal !important;
} 

.fc-theme-standard td, .fc-theme-standard th {
    border-color: #e5e5e5;
}

.dark .text-gray-500
 {
    --tw-text-opacity: 1;
    color: #ffffff;
}

.dark .text-gray-800 {
    --tw-text-opacity: 1;
    color: #ffffff;
}

.plogo {
    padding: 1rem 0 1rem 0.5rem;
}

/* ======================================================== */
/* ==  ESTILOS PARA O MODO APRESENTAÇÃO (TELA CHEIA)     == */
/* ======================================================== */
/* 
  1. Define o card como um container flex vertical em tela cheia
     e aplica um fundo branco.
*/

.fullscreen-card:fullscreen {
  width: 100vw;
  height: 100vh;
  overflow: auto; /* permite barras de rolagem vertical e horizontal quando necessário */
  position: relative !important; /* Não cria novo contexto de posicionamento fixo */
  transform: none !important; /* Remove qualquer transform que crie contexto */
}

.fullscreen-card:fullscreen,
.fullscreen-card:-webkit-full-screen,
.fullscreen-card:-moz-full-screen {
  background-color: white;
  padding: 1rem;
  padding-bottom: 25px !important; /* Espaço para o scrollbar fixo */
  display: flex;
  flex-direction: column;
  position: relative !important;
  transform: none !important;
}

/* 
  2. Força o #calendar-container a crescer e a se tornar um flex container também.
*/
.fullscreen-card:fullscreen > #calendar-container,
.fullscreen-card:-webkit-full-screen > #calendar-container,
.fullscreen-card:-moz-full-screen > #calendar-container {
  flex: 1 1 0%;
  min-height: 0;
  display: flex;
  flex-direction: column;
}

/* 
  3. ESTA É A CORREÇÃO CRUCIAL:
  Força o container principal do FullCalendar (.fc) a crescer dentro do #calendar-container.
*/
.fullscreen-card:fullscreen .fc,
.fullscreen-card:-webkit-full-screen .fc,
.fullscreen-card:-moz-full-screen .fc {
  flex: 1 1 0%;
  min-height: 0;
}



/* O contêiner principal do select */
.react-select-container .react-select__control {
  border-width: 1px;
  border-color: #d1d5db; /* Cor de `border-gray-300` */
  border-radius: 8px; /* Cor de `rounded-lg` */
  background-color: #ffffff;
 /*  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); `shadow-sm`
  transition: background-color 0.2s, border-color 0.2s, box-shadow 0.2s; */
  min-height: 39px !important; /* Garante a mesma altura dos outros inputs */
}


.react-select-container .react-select__control:hover {
  border-width: 1px;
  border-color: #d1d5db; /* Cor de `border-gray-300` */
  border-radius: 8px; /* Cor de `rounded-lg` */
  background-color: #ffffff;
 /*  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); `shadow-sm`
  transition: background-color 0.2s, border-color 0.2s, box-shadow 0.2s; */
  min-height: 39px !important; /* Garante a mesma altura dos outros inputs */
}

.dark .react-select-container .react-select__control {
  border-color: #4b5563; /* Cor de `dark:border-gray-600` */
  background-color: #1f2937; /* Cor de `dark:bg-gray-800` */
}

/* Estilo do contêiner quando focado */
.react-select-container .react-select__control--is-focused {
  border-color: transparent !important;
  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);
  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000) !important;
  --tw-ring-color: #f97316; /* Cor de `focus:ring-orange-500` */
}

/* Placeholder ("Todos") */
.react-select-container .react-select__placeholder {
  color: #707172; /* Cor de `text-gray-500` */
}
.dark .react-select-container .react-select__placeholder {
  color: #d1d5db; /* Cor de `text-gray-400` */
}

/* Valor de seleção única */
.react-select-container .react-select__single-value {
  color: #374151; /* Cor de `text-gray-900` */
}
.dark .react-select-container .react-select__single-value {
  color: #f9fafb; /* Cor de `text-gray-100` */
}

/* Remove a linha separadora vertical */
.react-select-container .react-select__indicator-separator {
  background-color: transparent; /* Cor de `bg-transparent` */
}

/* Portal do menu (quando usa menuPortalTarget) - seleciona o div criado no body */
.react-select__menu-portal {
  z-index: 9999 !important; /* Garante que o portal fique sobre tudo */
}

/* O menu dropdown que aparece dentro do portal */
.react-select__menu-portal .css-helv3a,
.react-select__menu-portal > div,
.react-select__menu {
  margin-top: 1px;
  background-color: #ffffff;
  border-radius: 0.375rem;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  border-width: 1px;
  border-color: #e5e7eb;
  z-index: 9999 !important;
}

.dark .react-select__menu-portal .css-helv3a,
.dark .react-select__menu-portal > div,
.dark .react-select__menu {
  background-color: #1f2937 !important; /* dark:bg-gray-800 - igual ao select nativo */
  border-color: #4b5563 !important; /* dark:border-gray-600 - igual ao select nativo */
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2) !important;
}

/* Lista de opções dentro do menu portal */
.react-select__menu-portal .react-select__menu-list,
.react-select__menu-list {
  background-color: #ffffff;
  border-radius: 0.375rem;
}

.dark .react-select__menu-portal .react-select__menu-list,
.dark .react-select__menu-list {
  background-color: #1f2937 !important; /* dark:bg-gray-800 - igual ao select nativo */
}

/* Cada opção no menu portal */
.react-select__menu-portal .react-select__option,
.react-select__option {
  color: #111827; /* text-gray-900 */
  background-color: #ffffff;
  cursor: pointer;
  padding: 8px 12px;
}

.dark .react-select__menu-portal .react-select__option,
.dark .react-select__option {
  color: #f9fafb !important; /* dark:text-gray-100 - igual ao select nativo */
  background-color: #1f2937 !important; /* dark:bg-gray-800 - igual ao select nativo */
}

/* Opção com mouse por cima no portal */
.react-select__menu-portal .react-select__option--is-focused,
.react-select__option--is-focused {
  background-color: #f3f4f6; /* bg-gray-100 */
  color: #111827;
}

.dark .react-select__menu-portal .react-select__option--is-focused,
.dark .react-select__option--is-focused {
  background-color: #4b5563 !important; /* dark:bg-gray-600 - hover mais claro para contraste */
  color: #f9fafb !important; /* dark:text-gray-100 */
}

/* Opção que está selecionada no portal */
.react-select__menu-portal .react-select__option--is-selected,
.react-select__option--is-selected {
  background-color: #3b82f6 !important; /* Cor de `bg-primary-500` */
  color: white !important; /* Cor de `text-white` */
}

.dark .react-select__menu-portal .react-select__option--is-selected,
.dark .react-select__option--is-selected {
  background-color: #2563eb !important; /* Cor de `bg-primary-600` */
  color: white !important;
}

/* As "pílulas" de seleção múltipla */
.react-select-container .react-select__multi-value {
  background-color: #e5e7eb; /* Cor de `bg-gray-200` */
  border-radius: 0.375rem; /* Cor de `rounded-md` */
}
.dark .react-select-container .react-select__multi-value {
  background-color: #4b5563; /* Cor de `bg-gray-700` */
}

/* O texto dentro da pílula */
.react-select-container .react-select__multi-value__label {
  color: #4b5563; /* Cor de `text-gray-800` */
  font-weight: 500; /* Cor de `font-medium` */
}
.dark .react-select-container .react-select__multi-value__label {
  color: #f9fafb; /* Cor de `text-gray-200` */
}

/* O 'x' para remover a pílula */
.react-select-container .react-select__multi-value__remove:hover {
  background-color: #ef4444; /* Cor de `bg-gray-300` */
  color: white; /* Cor de `text-red-600` */
}
.dark .react-select-container .react-select__multi-value__remove:hover {
  background-color: #991b1b; /* Cor de `bg-gray-600` */
  color: #ef4444; /* Cor de `text-red-400` */
}


/* 1. Regra principal para o corpo do tooltip */
.dark .tippy-box[data-theme~='light-border'] {
  background-color: #1f2937; /* Cor de `dark:bg-gray-700` */
  border-width: 1px; /* Cor de `border-gray-600` */
  border-color: #4b5563; /* Cor de `border-gray-600` */
  color: #d1d5db; /* Cor de `text-gray-200` */
}

/* 2. Regras para a seta do tooltip (para todas as direções) */
.dark .tippy-box[data-theme~='light-border'][data-placement^='top'] > .tippy-arrow::before {
  border-top-color: #4b5563; /* Cor de `border-t-gray-700` */
}
.dark .tippy-box[data-theme~='light-border'][data-placement^='bottom'] > .tippy-arrow::before {
  border-bottom-color: #4b5563; /* Cor de `border-b-gray-700` */
}
.dark .tippy-box[data-theme~='light-border'][data-placement^='left'] > .tippy-arrow::before {
  border-left-color: #4b5563; /* Cor de `border-l-gray-700` */
}
.dark .tippy-box[data-theme~='light-border'][data-placement^='right'] > .tippy-arrow::before {
  border-right-color: #4b5563; /* Cor de `border-r-gray-700` */
}

/* 3. Regras para sobrescrever as cores do texto dentro do tooltip */
/*    Isso garante que o texto fique claro, mesmo que as classes originais
      sejam para texto escuro. */
.dark .tippy-box[data-theme~='light-border'] .text-gray-500,
.dark .tippy-box[data-theme~='light-border'] .text-gray-600 {
  color: #d1d5db; /* Cor de `text-gray-300` */
}

.dark .tippy-box[data-theme~='light-border'] .text-gray-800 {
  color: #f9fafb; /* Cor de `text-gray-50` */
}

.dark .tippy-box[data-theme~='light-border'] hr {
  border-color: #4b5563; /* Cor de `border-gray-600` */
}